{
  "resources": {
    "body": [
      {
        "type": "style",
        "src": "./app.css"
      },
      {
        "type": "script",
        "src": "./app.js"
      }
    ]
  },
  "preview": {
    "handlers": [
      {
        "options": ["*"],
        "execute": "INSTALL_SCOPE.setOptions(INSTALL_OPTIONS)"
      }
    ]
  },
  "options": {
    "properties": {
      "goal": {
        "default": "email",
        "order": 1,
        "title": "What do you want to do?",
        "type": "string",
        "format": "radios",
        "enum": [
          "email",
          "page",
          "message"
        ],
        "enumNames": {
          "email": "Gather emails to sign visitors up for your newsletter",
          "page": "Redirect them to a special page",
          "message": "Just show a message"
        }
      },

      "message": {
        "default": "## Announcement\nStay up to date with all of our current news!",
        "description": "You may include links and style the message with Markdown. <a target=\"_blank\" href=\"https://en.wikipedia.org/wiki/Markdown#Example\" class=\"more with-inherited-color\"><strong>Learn more</strong></a>",
        "order": 2,
        "title": "Message",
        "format": "markdown",
        "type": "string"
      },

      "email": {
        "order": 3,
        "showIf": {
          "goal": {
            "op": "==",
            "value": "email"
          }
        },
        "type": "object",
        "properties": {
          "buttonText": {
            "default": "Send",
            "order": 1,
            "title": "Button text",
            "type": "string"
          }
        }
      },

      "page": {
        "order": 3,
        "showIf": {
          "goal": {
            "op": "==",
            "value": "page"
          }
        },
        "type": "object",
        "properties": {
          "buttonText": {
            "default": "Let's go!",
            "order": 1,
            "title": "Button text",
            "type": "string"
          },

          "buttonLink": {
            "placeholder": "http://...",
            "default": "https://eager.io",
            "order": 2,
            "title": "Button text",
            "type": "string"
          }
        }
      },

      "showAdvanced": {
        "order": 4,
        "type": "boolean",
        "title": "Show advanced options"
      },

      "buttonBackgroundColor": {
        "showIf": "showAdvanced",
        "order": 5,
        "title": "Button color",
        "type": "string",
        "format": "color",
        "default": "#006ef0"
      },

      "buttonTextColor": {
        "showIf": "showAdvanced",
        "order": 6,
        "title": "Button text color",
        "type": "string",
        "format": "color",
        "default": "#f9fff8"
      }
    }
  }
}
